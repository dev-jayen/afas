<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>

		<!-- CSS - Change this to adjust how clock looks (use caution not to change brackets commas colons etc) -->
		<style type="text/css">
		
			/* Forces html to display properly in AFAS viewer object */
			html {
			
				/* Hides overflow - eliminates scrollbars */
				overflow:hidden;
			}

			/* Page Body */
			body {
				
				margin: 0px;    
				padding: 0px;
				color: rgb(0,255,0);	/* red, green, blue; min 0 (darker), max 255 (lighter) */
				background-color: RGB(0,0,0);	/* red, green, blue; min 0 (darker), max 255 (lighter) */
				font-size: 65px;
				font-family: "Arial";
			}
		</style>		
		
		<!-- JS -->
		<script type="text/javascript">
			
			// Constants
			const interval = 500;
			const timeFormat = new TimeFormat(0);

			// Function to get current time and format it correctly
			function getTime() {
				
				// Declare variables
				var currentTime;

				// Get current time
				currentTime = new Time( true );
				currentTimeLocal = new Time( false );
				currentTimeQuarters = new Time( true );
				currentTimeRound = new Time( true );
				
				// Find clock span and set its content to formatted time
				document.getElementById('clock').innerHTML = 
				
					currentTime.formatString(
						
						timeFormat.full,	// Time format
						"UTC: ",				// Any text you want before the time, e.g. "Time: "
						"Z",				// Any text you want after the time, e.g. "Z"
						":",				// Text you want between the hours and minutes, e.g. ":"
						":"					// Text you want between the minutes and seconds, e.g. "/"
					);

				document.getElementById('clockLocal').innerHTML = 
				
					currentTimeLocal.formatString(
						
						timeFormat.full,	// Time format
						"Local: ",				// Any text you want before the time, e.g. "Time: "
						"J",				// Any text you want after the time, e.g. "Z"
						":",				// Text you want between the hours and minutes, e.g. ":"
						":"					// Text you want between the minutes and seconds, e.g. "/"
					);
				document.getElementById('clockQuarters').innerHTML = 
				
					currentTimeQuarters.formatString(
						
						timeFormat.quarters,	// Time format
						"Quarters: ",				// Any text you want before the time, e.g. "Time: "
						"",				// Any text you want after the time, e.g. "Z"
						":",				// Text you want between the hours and minutes, e.g. ":"
						" & "					// Text you want between the minutes and seconds, e.g. "/"
					);
				document.getElementById('clockRound').innerHTML = 
				
					currentTimeRound.formatString(
						
						timeFormat.round,	// Time format
						"Rounded: ",				// Any text you want before the time, e.g. "Time: "
						"",				// Any text you want after the time, e.g. "Z"
						":",				// Text you want between the hours and minutes, e.g. ":"
						""					// Text you want between the minutes and seconds, e.g. "/"
					);
			}

			function TimeFormat ( index ) {

				this.full		= index++; // e.g. hh:mm:ss
				this.quarters	= index++; // e.g. hh:mm:#/4
				this.round		= index++; // e.g. hh:mm
				//this.	= index++; // e.g. 
			}

			// Time object constructor
			function Time ( isUTC ) {

				this.time = new Date();

				this.hours		= ( isUTC ? this.time.getUTCHours() : this.time.getHours() );
				this.minutes	= ( isUTC ? this.time.getUTCMinutes() : this.time.getMinutes() );
				this.seconds	= this.time.getSeconds();

				// Function to add leading zeroes to any number < 10
				pad = number => ( number < 10 ? "0" + number : number );

				// Function to increment minute
				this.incrMinutes = () => {

					// First, we need to see if we're out of minutes and also need to increment hours
					if ( this.minutes == 59 ) {
						
						// Reset minutes to zero
						this.minutes = 0;

						// If hours are at max, then reset them, othewise increment them
						if ( this.hours == 23 ) { this.hours == 0; }
						else { this.hours++; }
					} else { this.minutes++; }
				}

				this.formatString = ( format, prefix, suffix, hmSep, msSep ) => {

					// Switch through formats
					switch( format ) {	// need to fix these to pad them out

						case timeFormat.round: {

							// Round up or not
							// Reference FAAO JO 7110.65Y 1-2-1m.
							if ( this.seconds > 29 ) { this.incrMinutes(); }

							// Set seconds to blank text
							this.seconds = "";
						break;}
						case timeFormat.quarters: {

							// Figure out how many quarters there are, then set seconds to that number
							// Reference FAAO JO 7110.65Y 2-4-17c.3
							if ( this.seconds > 52 ) { 
							
								this.seconds = "--";
								this.incrMinutes();
							} else if ( this.seconds > 37 ) { this.seconds = msSep + "3/4"; }
							else if ( this.seconds > 22 ) { this.seconds = msSep + "1/2"; }
							else if ( this.seconds > 7 ) { this.seconds = msSep + "1/4"; }
							else { this.seconds = "--"; }
						break;}
						case timeFormat.full: {
							
							// We only want to pad the seconds if we are using them
							this.seconds = msSep + pad( this.seconds );
						break;}
						
					}

					return ""
							+ prefix
							+ pad( this.hours )
							+ hmSep
							+ pad( this.minutes )
							+ this.seconds
							+ suffix;
				}
			}
		</script>
	</head>
	
	<body onload="setInterval('getTime()', interval)">
	
		<span id="clock"></span><br>
		<span id="clockLocal"></span><br>
		<span id="clockQuarters"></span><br>
		<span id="clockRound"></span>
	</body>
</html>